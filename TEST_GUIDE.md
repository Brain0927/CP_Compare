# 快速測試指南 - Momo 商品分析

## 改進摘要

已解決的問題：
- ✅ **Momo 價格提取** - 新增特定選擇器支援台幣符號和千位分隔符
- ✅ **比較清單功能** - 新增「加入比較清單」→「開始比較分析」工作流程
- ✅ **資訊完整性** - 改進名稱、評分、規格資訊提取

## 測試步驟

### 測試 1：單品分析（Momo 商品）

**步驟：**
1. 在瀏覽器中開啟 http://localhost:8501
2. 點擊「🔍 單品分析」標籤
3. 在輸入框貼入以下 URL（選一個）：
   - `https://www.momoshop.com.tw/goods/GoodsDetail.jsp?i_code=10201991&mdiv=411412`
   - `https://www.momoshop.com.tw/goods/GoodsDetail.jsp?i_code=14243108&Area=search&mdiv=403&oid=1_21&cid=index&kw=%E8%80%B3%E6%A9%9F`
4. 點擊「分析商品」

**預期結果：**
- ✅ 商品名稱：Sony 或相關耳機名稱
- ✅ 價格：應顯示正確的金額（如 $1,990）
- ✅ 評分：顯示星級評分
- ✅ 規格資訊：顯示產品規格

### 測試 2：加入比較清單

**步驟：**
1. 完成「測試 1」的分析
2. 在「📋 加入比較」區域點擊「➕ 加入比較清單」
3. 看到成功提示「✅ 已加入比較清單！」

**預期結果：**
- ✅ 商品出現在「📊 當前比較清單」表格中
- ✅ 「開始比較分析」按鈕變為可用（當清單有 2+ 個商品時）

### 測試 3：多商品比較

**步驟：**
1. 重複「測試 1」和「測試 2」，分析 2-3 個不同的 Momo 商品
2. 點擊「🚀 開始比較分析」
3. 等待跳轉到「🚀 完整流程」頁面

**預期結果：**
- ✅ 自動填入所有清單中的 URL
- ✅ 點擊「開始爬取」即可進行完整比較分析
- ✅ 看到 CP 值計算結果和排名

### 測試 4：直接多商品比較

**步驟：**
1. 點擊「🚀 完整流程」標籤
2. 在文本框中貼入 2-3 個 Momo URL（每行一個）：
   ```
   https://www.momoshop.com.tw/goods/GoodsDetail.jsp?i_code=10201991&mdiv=411412
   https://www.momoshop.com.tw/goods/GoodsDetail.jsp?i_code=14243108&Area=search&mdiv=403
   ```
3. 勾選或不勾選「動態載入頁面」（Momo 一般用靜態爬取即可）
4. 點擊「開始爬取」

**預期結果：**
- ✅ 顯示「✅ 成功爬取 2 個商品」
- ✅ 表格顯示商品基本資訊
- ✅ 點擊「進行 AI 分析」進行 CP 值計算

## 關鍵改進點驗證

| 項目 | 舊行為 | 新行為 | 驗證方法 |
|------|--------|--------|----------|
| 價格抓取 | 可能為 0 或錯誤值 | 正確顯示如 $1,990 | 查看單品分析的「價格」欄位 |
| 名稱提取 | 可能不完整 | 完整的商品名稱 | 查看「商品名稱」欄位 |
| 比較功能 | 需手動複製 URL | 一鍵加入比較 | 測試「加入比較清單」按鈕 |
| 工作流程 | 分散在不同頁面 | 流暢的比較路徑 | 完成「測試 3」 |

## 故障排查

### 問題：價格仍顯示為 $0
**檢查項目：**
1. Momo 頁面結構是否變動（訪問 URL 檢查 HTML）
2. 網路連線是否正常
3. 查看瀏覽器開發者工具：
   - F12 → 檢查元素
   - 搜尋「price」或「1990」
   - 查看實際的 HTML class 或 id

### 問題：「開始比較分析」按鈕不出現
**原因檢查：**
1. 確認至少添加了 2 個商品到比較清單
2. 重新整理頁面（F5）
3. 檢查瀏覽器控制台是否有錯誤

### 問題：爬取失敗
**檢查項目：**
1. URL 是否正確（複製自商品頁面）
2. URL 是否完整（包含所有查詢參數）
3. 網路連線是否穩定
4. 嘗試勾選「動態載入頁面」重試

## 後續改進方向

1. **自動相似商品推薦**
   - 在單品分析時自動尋找相似商品
   - 顯示「推薦比較」清單

2. **歷史記錄保存**
   - 保存之前的比較結果
   - 支援快速重新分析

3. **平台特定爬蟲**
   - 為 Momo/PChome/Shopee 各編寫最佳化爬蟲
   - 支援更多規格字段提取

4. **價格預警**
   - 當商品降價時發送通知
   - 追蹤價格趨勢

## 聯絡支援

若發現問題或有改進建議，請提供：
1. 遇到的具體 URL
2. 預期的結果 vs 實際結果
3. 瀏覽器開發者工具的錯誤信息
